{"version":3,"file":"all-or-none-of-listed-properties.validator.js","sourceRoot":"","sources":["all-or-none-of-listed-properties.validator.ts"],"names":[],"mappings":";;;;;;AAEA,OAAO,EAAE,mBAAmB,EAAE,MAAM,iBAAiB,CAAC;AAI/C,IAAM,2BAA2B,GAAjC,MAAM,2BAA2B;IACvC,cAAc,CAAC,UAA+B;QAC7C,OAAO,oEAAoE,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;IAChH,CAAC;IAED,QAAQ,CAAC,MAAe,EAAE,UAA+B;QACxD,MAAM,WAAW,GAAkB,UAAU,CAAC,WAA4B,CAAC;QAE3E,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC5B,MAAM,eAAe,GAAwB,UAAU,CAAC,MAA6B,CAAC;YACtF,MAAM,aAAa,GAAkB,WAAW,CAAC,MAAM,CAAC,CAAC,KAAa,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,IAAI,eAAe,CAAC,KAAK,CAAC,KAAK,SAAS,CAAC,CAAC;YAEjL,OAAO,aAAa,CAAC,MAAM,KAAK,CAAC,IAAI,aAAa,CAAC,MAAM,KAAK,WAAW,CAAC,MAAM,CAAC;QAClF,CAAC;QAED,OAAO,IAAI,CAAC;IACb,CAAC;CACD,CAAA;AAjBY,2BAA2B;IADvC,mBAAmB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,kCAAkC,EAAE,CAAC;GACnE,2BAA2B,CAiBvC","sourcesContent":["import type { ValidationArguments, ValidatorConstraintInterface } from \"class-validator\";\n\nimport { ValidatorConstraint } from \"class-validator\";\n\n// eslint-disable-next-line @elsikora/typescript/naming-convention\n@ValidatorConstraint({ async: false, name: \"all-or-none-of-listed-properties\" })\nexport class AllOrNoneOfListedProperties implements ValidatorConstraintInterface {\n\tdefaultMessage(properties: ValidationArguments): string {\n\t\treturn `either all or none of the following properties must be provided: ${properties.constraints.join(\", \")}`;\n\t}\n\n\tvalidate(_value: unknown, properties: ValidationArguments): boolean {\n\t\tconst constraints: Array<string> = properties.constraints as Array<string>;\n\n\t\tif (constraints.length > 0) {\n\t\t\tconst indexableObject: Record<string, any> = properties.object as Record<string, any>;\n\t\t\tconst definedFields: Array<string> = constraints.filter((field: string) => Object.prototype.hasOwnProperty.call(indexableObject, field) && indexableObject[field] !== undefined);\n\n\t\t\treturn definedFields.length === 0 || definedFields.length === constraints.length;\n\t\t}\n\n\t\treturn true;\n\t}\n}\n"]}