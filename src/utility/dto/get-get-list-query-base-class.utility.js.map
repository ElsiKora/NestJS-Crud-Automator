{"version":3,"file":"get-get-list-query-base-class.utility.js","sourceRoot":"","sources":["get-get-list-query-base-class.utility.ts"],"names":[],"mappings":";;;;;;;;;AAGA,OAAO,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;AAE3C,OAAO,EAAE,mCAAmC,EAAE,MAAM,gBAAgB,CAAC;AACrE,OAAO,EAAE,eAAe,EAAE,MAAM,6CAA6C,CAAC;AAC9E,OAAO,EAAE,iBAAiB,EAAE,MAAM,+CAA+C,CAAC;AAClF,OAAO,EAAe,sBAAsB,EAAiB,qBAAqB,EAAE,MAAM,YAAY,CAAC;AAEvG,OAAO,EAAE,2BAA2B,EAAE,MAAM,iBAAiB,CAAC;AAC9D,OAAO,EAAE,uBAAuB,EAAE,MAAM,4CAA4C,CAAC;AACrF,OAAO,EAAE,gBAAgB,EAAE,MAAM,8BAA8B,CAAC;AAEhE,MAAM,UAAU,2BAA2B,CAAI,MAAqB,EAAE,cAA6B,EAAE,MAAqB,EAAE,OAAoB;IAC/I,MAAM,YAAY;QAUjB,KAAK,CAAU;QASf,OAAO,CAAU;QASjB,cAAc,CAAyB;QAWvC,IAAI,CAAU;QAGd,MAAM;YACL,OAAO,IAAI,CAAC;QACb,CAAC;KACD;IAnCA;QATC,iBAAiB,CAAC;YAClB,WAAW,EAAE,gBAAgB;YAC7B,MAAM,EAAE,cAAc;YACtB,YAAY,EAAE,mCAAmC,CAAC,mBAAmB;YACrE,MAAM,EAAE,sBAAsB,CAAC,OAAO;YACtC,UAAU,EAAE,IAAI;YAChB,OAAO,EAAE,mCAAmC,CAAC,mBAAmB;YAChE,OAAO,EAAE,mCAAmC,CAAC,mBAAmB;SAChE,CAAC;;+CACa;IASf;QAPC,eAAe,CAAC;YAChB,WAAW,EAAE,gBAAgB;YAC7B,MAAM,EAAE,cAAc;YACtB,IAAI,EAAE,uBAAuB,CAAC,MAAM,EAAE,cAAc,EAAE,MAAM,EAAE,OAAO,CAAC;YACtE,QAAQ,EAAE,IAAI,gBAAgB,CAAC,cAAc,CAAC,IAAI,IAAI,iBAAiB,CAAC,eAAe;YACvF,UAAU,EAAE,KAAK;SACjB,CAAC;;iDACe;IASjB;QAPC,eAAe,CAAC;YAChB,WAAW,EAAE,iBAAiB;YAC9B,MAAM,EAAE,cAAc;YACtB,IAAI,EAAE,qBAAqB;YAC3B,QAAQ,EAAE,uBAAuB;YACjC,UAAU,EAAE,KAAK;SACjB,CAAC;;wDACqC;IAWvC;QATC,iBAAiB,CAAC;YAClB,WAAW,EAAE,gBAAgB;YAC7B,MAAM,EAAE,cAAc;YACtB,YAAY,EAAE,mCAAmC,CAAC,wBAAwB;YAC1E,MAAM,EAAE,sBAAsB,CAAC,OAAO;YACtC,UAAU,EAAE,IAAI;YAChB,OAAO,EAAE,mCAAmC,CAAC,wBAAwB;YACrE,OAAO,EAAE,mCAAmC,CAAC,wBAAwB;SACrE,CAAC;;8CACY;IAGd;QADC,QAAQ,CAAC,2BAA2B,EAAE,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;;;;8CAGpE;IAGF,OAAO,YAAY,CAAC;AACrB,CAAC","sourcesContent":["import type { Type } from \"@nestjs/common\";\nimport type { ObjectLiteral } from \"typeorm/index\";\n\nimport { Validate } from \"class-validator\";\n\nimport { GET_LIST_QUERY_DTO_FACTORY_CONSTANT } from \"../../constant\";\nimport { ApiPropertyEnum } from \"../../decorator/api/property/enum.decorator\";\nimport { ApiPropertyNumber } from \"../../decorator/api/property/number.decorator\";\nimport { EApiDtoType, EApiPropertyNumberType, EApiRouteType, EFilterOrderDirection } from \"../../enum\";\nimport { IApiEntity } from \"../../interface\";\nimport { AllOrNoneOfListedProperties } from \"../../validator\";\nimport { FilterOrderByFromEntity } from \"../api/filter-order-by-from-entity.utility\";\nimport { CapitalizeString } from \"../capitalize-string.utility\";\n\nexport function DtoGetGetListQueryBaseClass<E>(entity: ObjectLiteral, entityMetadata: IApiEntity<E>, method: EApiRouteType, dtoType: EApiDtoType): Type<unknown> {\n\tclass BaseQueryDTO {\n\t\t@ApiPropertyNumber({\n\t\t\tdescription: \"Items per page\",\n\t\t\tentity: entityMetadata,\n\t\t\texampleValue: GET_LIST_QUERY_DTO_FACTORY_CONSTANT.MINIMUM_LIST_LENGTH,\n\t\t\tformat: EApiPropertyNumberType.INTEGER,\n\t\t\tisRequired: true,\n\t\t\tmaximum: GET_LIST_QUERY_DTO_FACTORY_CONSTANT.MAXIMUM_LIST_LENGTH,\n\t\t\tminimum: GET_LIST_QUERY_DTO_FACTORY_CONSTANT.MINIMUM_LIST_LENGTH,\n\t\t})\n\t\tlimit!: number;\n\n\t\t@ApiPropertyEnum({\n\t\t\tdescription: \"order by field\",\n\t\t\tentity: entityMetadata,\n\t\t\tenum: FilterOrderByFromEntity(entity, entityMetadata, method, dtoType),\n\t\t\tenumName: `E${CapitalizeString(entityMetadata.name ?? \"UnknownResource\")}FilterOrderBy`,\n\t\t\tisRequired: false,\n\t\t})\n\t\torderBy?: string;\n\n\t\t@ApiPropertyEnum({\n\t\t\tdescription: \"order direction\",\n\t\t\tentity: entityMetadata,\n\t\t\tenum: EFilterOrderDirection,\n\t\t\tenumName: \"EFilterOrderDirection\",\n\t\t\tisRequired: false,\n\t\t})\n\t\torderDirection?: EFilterOrderDirection;\n\n\t\t@ApiPropertyNumber({\n\t\t\tdescription: \"Page to return\",\n\t\t\tentity: entityMetadata,\n\t\t\texampleValue: GET_LIST_QUERY_DTO_FACTORY_CONSTANT.MINIMUM_LIST_PAGES_COUNT,\n\t\t\tformat: EApiPropertyNumberType.INTEGER,\n\t\t\tisRequired: true,\n\t\t\tmaximum: GET_LIST_QUERY_DTO_FACTORY_CONSTANT.MAXIMUM_LIST_PAGES_COUNT,\n\t\t\tminimum: GET_LIST_QUERY_DTO_FACTORY_CONSTANT.MINIMUM_LIST_PAGES_COUNT,\n\t\t})\n\t\tpage!: number;\n\n\t\t@Validate(AllOrNoneOfListedProperties, [\"orderBy\", \"orderDirection\"])\n\t\tobject(): this {\n\t\t\treturn this;\n\t\t}\n\t}\n\n\treturn BaseQueryDTO;\n}\n"]}